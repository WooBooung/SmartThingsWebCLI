<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Capability Creator</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.0.0/js-yaml.min.js"></script>
        <style>
            #capabilitiesList,
            #standardCapabilitiesList {
                display: block;
                max-height: 500px;
                overflow-y: auto;
            }
        </style>
        <!--Common Style Load -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="../subpage.css" rel="stylesheet">
    </head>
    <body>
        <!--Header & Side Menu Load Area -->
        <div id="header"></div>
        <div id="sidebar"></div>
        
        <!-- Main Area -->
        <div class="content">
            <h1>Custom Capability Creator</h1>
            <!-- PAT TOKEN DELETE 
            <form id="capabilityForm">
                <div class="form-group">
                    <a href="https://account.smartthings.com/tokens" target="_blank" class="btn btn-link">Create PAT</a>
                    <label for="patToken">PAT Token:</label>
                    <div class="input-group">
                        <input type="password" class="form-control" id="patToken" name="patToken" required oninput="listCapabilities()">
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <input type="checkbox" id="togglePassword" onclick="togglePasswordVisibility()"> Show
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <button type="button" class="btn btn-primary" onclick="saveData()">Save</button>
                    <button type="button" class="btn btn-secondary" onclick="loadData()">Load</button>
                    <button type="button" class="btn btn-danger" onclick="clearData()">Clear</button>
                    <small class="form-text text-muted">This information is stored on your local PC, not on a server.</small>
                </div>
                -->
                <div class="form-group">
                    <h3>My Capabilities:</h3>
                    <select id="capabilitiesList" class="form-control" onchange="selectCapability()"></select>
                </div>

                <div class="form-group">
                    <h3>Standard Capabilities:</h3>
                    <select id="standardCapabilitiesList" class="form-control" onchange="selectStandardCapability()"></select>
                </div>

                <div class="form-group">
                    <label for="capabilityId">Capability ID:</label>
                    <div class="input-group">
                        <input type="text" id="capabilityId" class="form-control">
                        <div class="input-group-append">
                            <button type="button" class="btn btn-primary" onclick="getCapability()">Retrieve</button>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="capabilityBody">Capability Body (YAML or JSON):</label>
                    <textarea id="capabilityBody" name="capabilityBody" class="form-control" rows="10" required></textarea>
                </div>

                <div class="form-group">
                    <button type="button" class="btn btn-success" onclick="createCapability()">Create</button>
                    <button type="button" class="btn btn-warning" onclick="updateCapability()">Update</button>
                    <button type="button" class="btn btn-danger" onclick="deleteCapability()">Delete</button>
                </div>

                <h3>Result:</h3>
                <pre id="result" class="border p-3"></pre>

                <div class="form-group mt-4">
                    <h3>Translations:</h3>
                    <label for="localesList">My Locales:</label>
                    <select id="localesList" class="form-control" onchange="selectLocale()"></select>
                </div>

                <div class="form-group">
                    <label for="locale">Locale:</label>
                    <input type="text" id="locale" class="form-control">
                </div>

                <div class="form-group">
                    <label for="localeBody">Locale Body (YAML or JSON):</label>
                    <textarea id="localeBody" name="localeBody" class="form-control" rows="10" required></textarea>
                </div>

                <button type="button" class="btn btn-primary" onclick="upsertLocale()">Create or Update</button>
                <pre id="localeResult" class="border p-3 mt-3"></pre>
            </form>
        </div>
        <footer class="text-center mt-5">
            <hr class="my-4">
            <p>by Booung &copy; 2024 <a href="https://cafe.naver.com/dothesmartthings" target="_blank">SmartThings naver cafe</a></p>
        </footer>
        
         <!-- Javascript Load -->
         <script src="../menu.js"></script>
         <script src="capability.js"></script>
    </body>
</html>